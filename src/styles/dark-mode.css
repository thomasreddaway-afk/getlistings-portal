/**
 * Dark Mode Styles
 * 
 * CSS custom properties for dark theme
 * Import this file after your main styles
 */

/* ===========================================
   CSS Custom Properties for Theming
   =========================================== */

:root {
  /* Light theme (default) */
  --color-bg-primary: 255, 255, 255;
  --color-bg-secondary: 248, 250, 252;
  --color-bg-tertiary: 241, 245, 249;
  
  --color-text-primary: 15, 23, 42;
  --color-text-secondary: 71, 85, 105;
  --color-text-tertiary: 148, 163, 184;
  --color-text-muted: 203, 213, 225;
  
  --color-border-primary: 226, 232, 240;
  --color-border-secondary: 241, 245, 249;
  
  --color-accent: 139, 92, 246;
  --color-accent-light: 167, 139, 250;
  --color-accent-dark: 109, 40, 217;
  
  --color-success: 34, 197, 94;
  --color-warning: 234, 179, 8;
  --color-error: 239, 68, 68;
  --color-info: 59, 130, 246;
  
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  
  --scrollbar-track: #f1f5f9;
  --scrollbar-thumb: #cbd5e1;
  --scrollbar-thumb-hover: #94a3b8;
}

/* Dark theme */
.dark,
[data-theme="dark"] {
  --color-bg-primary: 17, 24, 39;
  --color-bg-secondary: 31, 41, 55;
  --color-bg-tertiary: 55, 65, 81;
  
  --color-text-primary: 248, 250, 252;
  --color-text-secondary: 203, 213, 225;
  --color-text-tertiary: 148, 163, 184;
  --color-text-muted: 100, 116, 139;
  
  --color-border-primary: 55, 65, 81;
  --color-border-secondary: 75, 85, 99;
  
  --color-accent: 167, 139, 250;
  --color-accent-light: 196, 181, 253;
  --color-accent-dark: 139, 92, 246;
  
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.25);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.3), 0 2px 4px -2px rgb(0 0 0 / 0.3);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.3), 0 4px 6px -4px rgb(0 0 0 / 0.3);
  
  --scrollbar-track: #1f2937;
  --scrollbar-thumb: #4b5563;
  --scrollbar-thumb-hover: #6b7280;
}

/* ===========================================
   Apply Theme Colors
   =========================================== */

body {
  background-color: rgb(var(--color-bg-secondary));
  color: rgb(var(--color-text-primary));
  transition: background-color 0.2s ease, color 0.2s ease;
}

/* Scrollbar theming */
::-webkit-scrollbar-track {
  background: var(--scrollbar-track);
}

::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--scrollbar-thumb-hover);
}

/* ===========================================
   Dark Mode Component Overrides
   =========================================== */

.dark {
  /* Cards */
  .bg-white {
    background-color: rgb(var(--color-bg-primary)) !important;
  }
  
  /* Borders */
  .border-gray-100,
  .border-gray-200,
  .border-slate-100,
  .border-slate-200 {
    border-color: rgb(var(--color-border-primary)) !important;
  }
  
  /* Text colors */
  .text-gray-900,
  .text-slate-900 {
    color: rgb(var(--color-text-primary)) !important;
  }
  
  .text-gray-700,
  .text-slate-700 {
    color: rgb(var(--color-text-secondary)) !important;
  }
  
  .text-gray-500,
  .text-gray-600,
  .text-slate-500,
  .text-slate-600 {
    color: rgb(var(--color-text-tertiary)) !important;
  }
  
  /* Backgrounds */
  .bg-gray-50,
  .bg-slate-50 {
    background-color: rgb(var(--color-bg-secondary)) !important;
  }
  
  .bg-gray-100,
  .bg-slate-100 {
    background-color: rgb(var(--color-bg-tertiary)) !important;
  }
  
  /* Inputs */
  input,
  select,
  textarea {
    background-color: rgb(var(--color-bg-tertiary));
    border-color: rgb(var(--color-border-primary));
    color: rgb(var(--color-text-primary));
  }
  
  input::placeholder,
  textarea::placeholder {
    color: rgb(var(--color-text-muted));
  }
  
  /* Tables */
  .data-table th {
    background-color: rgb(var(--color-bg-secondary));
    color: rgb(var(--color-text-tertiary));
    border-color: rgb(var(--color-border-primary));
  }
  
  .data-table td {
    border-color: rgb(var(--color-border-primary));
  }
  
  .data-table tr:hover td {
    background-color: rgb(var(--color-bg-secondary));
  }
  
  /* Kanban */
  .kanban-column {
    background-color: rgb(var(--color-bg-secondary));
  }
  
  .kanban-card {
    background-color: rgb(var(--color-bg-primary));
    border-color: rgb(var(--color-border-primary));
  }
  
  /* Stat cards */
  .stat-card {
    background-color: rgb(var(--color-bg-primary));
    border-color: rgb(var(--color-border-primary));
  }
  
  /* Skeleton loading */
  .skeleton,
  .skeleton-mobile {
    background-color: rgb(var(--color-bg-tertiary));
  }
  
  /* Modals and overlays */
  .bottom-sheet {
    background-color: rgb(var(--color-bg-primary));
  }
  
  /* Mobile nav */
  .mobile-nav {
    background-color: rgb(var(--color-bg-primary));
    border-color: rgb(var(--color-border-primary));
  }
  
  .mobile-nav-item {
    color: rgb(var(--color-text-tertiary));
  }
  
  .mobile-nav-item.active {
    background-color: rgba(139, 92, 246, 0.2);
    color: rgb(var(--color-accent));
  }
  
  /* Shadows are already handled in CSS vars above */
}

/* ===========================================
   System Preference Detection
   =========================================== */

@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) {
    --color-bg-primary: 17, 24, 39;
    --color-bg-secondary: 31, 41, 55;
    --color-bg-tertiary: 55, 65, 81;
    
    --color-text-primary: 248, 250, 252;
    --color-text-secondary: 203, 213, 225;
    --color-text-tertiary: 148, 163, 184;
    --color-text-muted: 100, 116, 139;
    
    --color-border-primary: 55, 65, 81;
    --color-border-secondary: 75, 85, 99;
    
    --color-accent: 167, 139, 250;
    --color-accent-light: 196, 181, 253;
    --color-accent-dark: 139, 92, 246;
    
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.25);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.3), 0 2px 4px -2px rgb(0 0 0 / 0.3);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.3), 0 4px 6px -4px rgb(0 0 0 / 0.3);
    
    --scrollbar-track: #1f2937;
    --scrollbar-thumb: #4b5563;
    --scrollbar-thumb-hover: #6b7280;
  }
}

/* ===========================================
   Transition Utilities
   =========================================== */

.theme-transition,
.theme-transition * {
  transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease !important;
}
